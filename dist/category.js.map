{"version":3,"sources":["../server/category.js"],"names":["categoryFieldType","name","created","cleanupCategory","category","cleanedUpCategory","Object","keys","forEach","field","validateCategory","errors","push","length","join","convertCategory","Date","module","exports"],"mappings":"AAAA;;AACA,IAAMA,oBAAoB;AACtBC,UAAK,UADiB;AAEtBC,aAAQ;AAFc,CAA1B;;AAKA,SAASC,eAAT,CAAyBC,QAAzB,EAAmC;AAC/B,QAAMC,oBAAoB,EAA1B;AACAC,WAAOC,IAAP,CAAYH,QAAZ,EAAsBI,OAAtB,CAA8B,iBAAS;AACnC,YAAIR,kBAAkBS,KAAlB,CAAJ,EAA8BJ,kBAAkBI,KAAlB,IAA2BL,SAASK,KAAT,CAA3B;AACjC,KAFD;AAGA,WAAOJ,iBAAP;AACH;;AAED,SAASK,gBAAT,CAA0BN,QAA1B,EAAoC;AAChC,QAAMO,SAAS,EAAf;AACAL,WAAOC,IAAP,CAAYP,iBAAZ,EAA+BQ,OAA/B,CAAuC,iBAAS;AAC5C,YAAIR,kBAAkBS,KAAlB,MAA6B,UAA7B,IAA2C,CAACL,SAASK,KAAT,CAAhD,EAAiE;AAC7DE,mBAAOC,IAAP,+BAAwCH,KAAxC;AACH;AACJ,KAJD;;AAMA,WAAQE,OAAOE,MAAP,GAAgBF,OAAOG,IAAP,CAAY,IAAZ,CAAhB,GAAoC,IAA5C;AACH;;AAED,SAASC,eAAT,CAAyBX,QAAzB,EAAmC;AAC/B,QAAGA,SAASF,OAAZ,EAAqBE,SAASF,OAAT,GAAmB,IAAIc,IAAJ,CAASZ,SAASF,OAAlB,CAAnB;AACrB,WAAOC,gBAAgBC,QAAhB,CAAP;AACH;;AAEDa,OAAOC,OAAP,GAAiB;AACbR,sBAAkBA,gBADL,EACuB;AACpCP,qBAAiBA,eAFJ;AAGbY,qBAAiBA;AAHJ,CAAjB","file":"category.js","sourcesContent":["'use strict';\r\nconst categoryFieldType = {\r\n    name:'required',\r\n    created:'required',\r\n};\r\n\r\nfunction cleanupCategory(category) {\r\n    const cleanedUpCategory = {};\r\n    Object.keys(category).forEach(field => {\r\n        if (categoryFieldType[field]) cleanedUpCategory[field] = category[field];\r\n    });\r\n    return cleanedUpCategory;\r\n}\r\n\r\nfunction validateCategory(category) {\r\n    const errors = [];\r\n    Object.keys(categoryFieldType).forEach(field => {\r\n        if (categoryFieldType[field] === 'required' && !category[field]) {\r\n            errors.push(`Missing mandatory field: ${field}`);\r\n        }\r\n    });\r\n\r\n    return (errors.length ? errors.join('; ') : null);\r\n};\r\n\r\nfunction convertCategory(category) {\r\n    if(category.created) category.created = new Date(category.created);\r\n    return cleanupCategory(category);\r\n};\r\n\r\nmodule.exports = {\r\n    validateCategory: validateCategory, //property being set to validate function\r\n    cleanupCategory: cleanupCategory,\r\n    convertCategory: convertCategory,\r\n};"]}